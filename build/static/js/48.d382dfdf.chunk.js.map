{"version":3,"sources":["containers/Box/config.js","containers/Box/helperfunc.js","containers/Box/GridLayout.js"],"names":["layoutConfig","className","autoSize","verticalCompact","cols","lg","md","sm","xs","xxs","breakpoints","draggableHandle","isResizable","rowHeight","margin","gutter","indexOfBoxfunc","allBox","uid","boxIndex","forEach","box","index","toString","deleteBox","boxActions","saveBox","ResponsiveReactGridLayout","WidthProvider","Responsive","GridLayout","props","_this","Object","classCallCheck","this","_super","call","onLayoutChange","bind","assertThisInitialized","breakPointChange","autoHeight","state","breakpoint","setState","nextProps","reload","layouts","_this2","layout","i","x","y","h","w","size","newBreakpoint","height","_ref","_this$state","self","map","singleBox","indexOfBox","Math","ceil","setTimeout","_this3","Layouts","mdLayouts","lgLayouts","smLayouts","xsLayouts","xxsLayouts","push","objectSpread","parseInt","generateLayoutfunc","boxSettings","onDragStop","onResizeStop","onBreakpointChange","react_default","a","createElement","key","lib","debounceTimeout","onResize","data","style","paddingRight","concat","paddingBottom","title","onClick","icon","type","content","reactComponent","Component","connect","Box"],"mappings":"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","file":"static/js/48.d382dfdf.chunk.js","sourcesContent":["const layoutConfig = {\n  className: 'isoCardBoxLayout',\n  autoSize: true,\n  verticalCompact: true,\n  cols: { lg: 96, md: 96, sm: 96, xs: 96, xxs: 96 },\n  breakpoints: { lg: 1200, md: 996, sm: 768, xs: 480, xxs: 200 },\n  draggableHandle: '.isoDragBox',\n  isResizable: true,\n  rowHeight: 1,\n  margin: [0, 0],\n};\n\nconst gutter = {\n  gutterWidth: 10,\n  gutterHeight: 10,\n};\nexport { layoutConfig, gutter };\n","const generateLayoutfunc = allBox => {\n  const mdLayouts = [];\n  const lgLayouts = [];\n  const smLayouts = [];\n  const xsLayouts = [];\n  const xxsLayouts = [];\n  allBox.forEach(box => {\n    mdLayouts.push({\n      ...box,\n      x: parseInt(box.size.md.x, 10),\n      y: parseInt(box.size.md.y, 10),\n      h: parseInt(box.size.md.h, 10),\n      w: parseInt(box.size.md.w, 10),\n      i: box.size.md.i.toString(),\n    });\n    lgLayouts.push({\n      ...box,\n      x: parseInt(box.size.lg.x, 10),\n      y: parseInt(box.size.lg.y, 10),\n      h: parseInt(box.size.lg.h, 10),\n      w: parseInt(box.size.lg.w, 10),\n      i: box.size.lg.i.toString(),\n    });\n    smLayouts.push({\n      ...box,\n      x: parseInt(box.size.sm.x, 10),\n      y: parseInt(box.size.sm.y, 10),\n      h: parseInt(box.size.sm.h, 10),\n      w: parseInt(box.size.sm.w, 10),\n      i: box.size.sm.i.toString(),\n    });\n    xsLayouts.push({\n      ...box,\n      x: parseInt(box.size.xs.x, 10),\n      y: parseInt(box.size.xs.y, 10),\n      h: parseInt(box.size.xs.h, 10),\n      w: parseInt(box.size.xs.w, 10),\n      i: box.size.xs.i.toString(),\n    });\n    xxsLayouts.push({\n      ...box,\n      x: parseInt(box.size.xxs.x, 10),\n      y: parseInt(box.size.xxs.y, 10),\n      h: parseInt(box.size.xxs.h, 10),\n      w: parseInt(box.size.xxs.w, 10),\n      i: box.size.xxs.i.toString(),\n    });\n  });\n  return {\n    md: mdLayouts,\n    lg: lgLayouts,\n    sm: smLayouts,\n    xs: xsLayouts,\n    xxs: xxsLayouts,\n  };\n};\n\nconst indexOfBoxfunc = (allBox, uid) => {\n  let boxIndex = -1;\n  allBox.forEach((box, index) => {\n    if (box.uid.toString() === uid.toString()) {\n      boxIndex = index;\n    }\n  });\n  return boxIndex;\n};\n\nexport { generateLayoutfunc, indexOfBoxfunc };\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Responsive, WidthProvider } from 'react-grid-layout';\nimport { ReactElementResize } from 'react-element-resize';\nimport { Icon } from 'antd';\nimport boxActions from '../../redux/box/actions';\nimport { layoutConfig, gutter } from './config';\nimport { generateLayoutfunc, indexOfBoxfunc } from './helperfunc.js';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\nimport './box.css';\n\nconst { deleteBox, saveBox } = boxActions;\nconst ResponsiveReactGridLayout = WidthProvider(Responsive);\n\nclass GridLayout extends Component {\n  constructor(props) {\n    super(props);\n    this.onLayoutChange = this.onLayoutChange.bind(this);\n    this.breakPointChange = this.breakPointChange.bind(this);\n    this.autoHeight = this.autoHeight.bind(this);\n    this.state = {\n      breakpoint: 'lg'\n    };\n  }\n  componentWillMount() {\n    this.setState({ allBox: this.props.allBox });\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.reload) {\n      this.setState({ allBox: nextProps.allBox });\n    }\n  }\n  onLayoutChange(layouts) {\n    const { allBox } = this.state;\n    layouts.forEach(layout => {\n      const boxIndex = indexOfBoxfunc(allBox, layout.i);\n      if (boxIndex !== -1) {\n        const { x, y, h, w, i } = layout;\n        allBox[boxIndex].size[this.state.breakpoint] = { x, y, h, w, i };\n      }\n    });\n    this.setState({ allBox });\n    this.props.saveBox(allBox);\n  }\n  breakPointChange(newBreakpoint) {\n    // this.breakpoint = newBreakpoint;\n    this.setState({ breakpoint: newBreakpoint });\n    // Device type can be accesssed from this.breakpoint variable\n  }\n  autoHeight(uid, { height }) {\n    const { allBox, breakpoint } = this.state;\n    const self = this;\n    if (height === 0) {\n      return;\n    }\n    allBox.map(singleBox => {\n      const indexOfBox = indexOfBoxfunc(allBox, uid);\n      if (\n        allBox[indexOfBox].size[breakpoint].h !==\n        Math.ceil(height / layoutConfig.rowHeight)\n      ) {\n        allBox[indexOfBox].size[breakpoint].h = Math.ceil(\n          height / layoutConfig.rowHeight\n        );\n      }\n      return null;\n    });\n    setTimeout(() => {\n      self.setState({ allBox });\n    }, 1);\n  }\n  render() {\n    const { allBox } = this.state;\n    const { deleteBox } = this.props;\n    const Layouts = generateLayoutfunc(allBox);\n    const renderBox = singleBox => {\n      return (\n        <div className=\"isomorphicSingleCardHolder\" key={singleBox.i}>\n          <ReactElementResize\n            debounceTimeout={200}\n            onResize={data => {\n              this.autoHeight(singleBox.i, data);\n            }}\n          >\n            {data => (\n              <div\n                className=\"isomorphicSingleCard\"\n                style={{\n                  paddingRight: `${Math.ceil(gutter.gutterWidth)}px`,\n                  paddingBottom: `${Math.ceil(gutter.gutterHeight)}px`\n                }}\n              >\n                <div className=\"isoCardBox\">\n                  <div className=\"isoCardBoxHeader\">\n                    <h3>{singleBox.title}</h3>\n\n                    <div className=\"isoCardControl\">\n                      <button\n                        className=\"isoDeleteBtn\"\n                        onClick={() => deleteBox(singleBox.i)}\n                      >\n                        <Icon type=\"delete\" />\n                      </button>\n                      <button className=\"isoDragBox\" type=\"button\">\n                        <Icon type=\"swap\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"isoCardBoxBody\">\n                    <p>{singleBox.content}</p>\n                    {singleBox.reactComponent ? (\n                      <singleBox.reactComponent />\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            )}\n          </ReactElementResize>\n        </div>\n      );\n    };\n    const boxSettings = {\n      ...layoutConfig,\n      layouts: Layouts,\n      onDragStop: this.onLayoutChange,\n      onResizeStop: this.onLayoutChange,\n      onBreakpointChange: this.breakPointChange\n    };\n    return (\n      <div className=\"isoCardBoxContentWrapper\">\n        <ResponsiveReactGridLayout {...boxSettings}>\n          {Layouts.md.map(renderBox)}\n        </ResponsiveReactGridLayout>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    allBox: state.Box.allBox,\n    reload: state.Box.reload\n  };\n}\nexport default connect(mapStateToProps, {\n  saveBox,\n  deleteBox\n})(GridLayout);\n"],"sourceRoot":""}